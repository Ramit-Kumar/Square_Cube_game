<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Squares and Cubes Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="./dice.png" />
 <style>
    :root {
  --bg-gradient: linear-gradient(to right, #e0f7fa, #fff3e0);
  --card-bg: #ffffffcc;
  --text-color: #222;
  --primary-gradient: linear-gradient(135deg, #42a5f5, #478ed1);
  --accent-gradient: linear-gradient(135deg, #66bb6a, #43a047);
  --footer-bg: rgba(0, 0, 0, 0.05);
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  display: flex;
  flex-direction: column;
}

.container {
  flex: 1; /* this makes it take up all available space */
  padding: 1rem 0.5rem;
}

    body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  background: var(--bg-gradient);
  color: var(--text-color);
  padding: 2rem;
  transition: background 0.5s, color 0.5s;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

body.dark {
  --bg-gradient: linear-gradient(to right, #0f2027, #203a43, #2c5364);
  --card-bg: #37474fcc;
  --text-color: #ffffff;
  --footer-bg: linear-gradient(to right, #37474f, #263238);
}

.header {
  text-align: center;
  margin-bottom: 1.5rem;
  animation: fadeSlideDown 1s ease;
}

.main-title {
  font-size: clamp(1.5rem, 5vw, 2.5rem);
  font-weight: bold;
  background: linear-gradient(90deg, #2196f3, #9c27b0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 0;
}

.tagline {
  font-size: clamp(1rem, 3vw, 1.25rem);
  color: #666;
  animation: fadeIn 2s ease;
}

body.dark .tagline {
  color: #bbb;
}

@keyframes fadeSlideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}


#top-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  justify-content: center;
  margin-bottom: 2rem;
  animation: fadeInDown 1s ease;
}

button, select, label {
  padding: 0.4rem;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  background-image: var(--primary-gradient);
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s, background 0.3s;
}

button:hover, select:hover {
  transform: scale(1.05);
  background-image: var(--accent-gradient);
}

select {
  appearance: none;
  background-image: var(--primary-gradient);
  color: white;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}

select option {
  color: #000;
  background-color: #fff;
}

body.dark select option {
  color: #fff;
  background-color: #424242;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  flex-grow: 1;
}

.section {
  background: var(--card-bg);
  padding: 1.5rem;
  border-radius: 1.2rem;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  animation: fadeInUp 1s ease;
  backdrop-filter: blur(8px);
}

.question {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1rem;
}

input[type="number"] {
  width: -webkit-fill-available;
  padding: 0.6rem;
  font-size: 1.2rem;
  border: 2px solid #ccc;
  border-radius: 0.5rem;
  transition: all 0.3s;
}

input.correct {
  border-color: #4caf50;
  background: #e8f5e9;
}

input.incorrect {
  border-color: #e53935;
  background: #ffebee;
}

.score, .answer-feedback {
  margin-top: 1rem;
  font-weight: bold;
}

progress {
  width: 100%;
  height: 10px;
  margin-bottom: 1rem;
  appearance: none;
}

/* Progress bar base style */
progress {
  appearance: none;
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 10px;
  overflow: hidden;
  background-color: #e0e0e0;
  margin-bottom: 10px;
}

/* WebKit (Chrome, Safari) base bar */
progress::-webkit-progress-bar {
  background-color: #e0e0e0;
  border-radius: 10px;
}

/* Square progress (Blue gradient) */
#square-progress::-webkit-progress-value {
  background-image: linear-gradient(90deg, #00c6ff, #0072ff); /* Blue gradient */
  border-radius: 10px;
  transition: width 0.3s ease-in-out;
}

/* Cube progress (Green gradient) */
#cube-progress::-webkit-progress-value {
  background-image: linear-gradient(90deg, #00c6ff, #0072ff); /* Blue gradient */
  border-radius: 10px;
  transition: width 0.3s ease-in-out;
}

/* Firefox support */
#square-progress::-moz-progress-bar {
  background-image: linear-gradient(90deg, #00c6ff, #0072ff); /* Blue gradient */
  border-radius: 10px;
  transition: width 0.3s ease-in-out;
}

#cube-progress::-moz-progress-bar {
  background-image: linear-gradient(90deg, #00c6ff, #0072ff); /* Blue gradient */
  border-radius: 10px;
  transition: width 0.3s ease-in-out;
}


.timer {
  font-size: 1.3rem;
  text-align: center;
  margin-bottom: 1rem;
  font-weight: 500;
}

.summary {
  margin-top: 2rem;
  padding: 1.5rem;
  background: #fce4ec;
  border-radius: 1rem;
  text-align: center;
  font-size: 1.1rem;
  animation: fadeInUp 1s ease;
  color: #000;
}

   footer {
  text-align: center;
  padding: 1rem 0;
  font-size: 0.8rem;
  line-height: 1.4;
  color: #666;
  <--background: var(--footer-bg);>
  margin-top: auto;
  <--border-top: 1px solid #ccc;>
}

    @media (max-width: 600px) {
      body {
        padding: 1rem;
      }
      .question {
        font-size: 1.2rem;
      }
	  .main-title {
		font-size: 1.8rem;
	  }

	  .tagline {
		font-size: 1rem;
	  }
	 
    }

    body.dark .summary {
  background: #4e6e7c;
  color: #fff;
}
body.dark footer {
--bg-gradient: linear-gradient(to right, #0f2027, #203a43, #2c5364);
  color: #bbb;
  border-top-color: #555;
}

@media (max-width: 600px) {
  body {
    padding: 1rem 0.5rem;
  }
  .question {
    font-size: 1.3rem;
  }
}

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container">
  <div class="header">
	<h1 class="main-title">🔢Squares and Cubes Practice🔢</h1>
	<p class="tagline">Sharpen your math skills with squares and cubes!</p>
  </div>


  <div id="top-controls">
    <button id="start-button">Start</button>
    <button id="stop-button">Stop</button>
    <label><input type="checkbox" id="theme-toggle"> Dark Mode</label>
    <label><input type="checkbox" id="sound-toggle" checked> Sound</label>
    <label><input type="checkbox" id="fullscreen-toggle" onclick="toggleFullscreen()"> Fullscreen</label>
    <select id="difficulty-select">
      <option value="10">Level 1 (1-10)</option>
      <option value="20">Level 2 (11-20)</option>
      <option value="30">Level 3 (21-30)</option>
      <option value="40">Level 4 (31-40)</option>
      <option value="50">Level 5 (41-50)</option>
      <option value="random" selected>🎲 Random (1–50)</option>
    </select>
    <select id="mode-select">
      <option value="both" selected>Squares & Cubes</option>
      <option value="squares">Squares Only</option>
      <option value="cubes">Cubes Only</option>
    </select>
  </div>

  <div class="timer" id="timer-display">Time: 00:00</div>

  <div class="grid">
    <div class="section" id="square-section">
      <progress id="square-progress" value="0" max="50"></progress>
      <div class="question" id="square-question">Press Start to begin</div>
      <input type="number" id="square-input" disabled>
      <div class="score" id="square-score">Score: 0</div>
      <div class="answer-feedback" id="square-feedback"></div>
    </div>
    <div class="section" id="cube-section">
      <progress id="cube-progress" value="0" max="50"></progress>
      <div class="question" id="cube-question">Press Start to begin</div>
      <input type="number" id="cube-input" disabled>
      <div class="score" id="cube-score">Score: 0</div>
      <div class="answer-feedback" id="cube-feedback"></div>
    </div>
  </div>

  <div class="summary" id="score-summary" style="display:none"></div>
  </div>
 
  <footer>
    &copy; 2025 Squares and Cubes Practice | Made for educational purposes.
	<p>ramit-kumar-edition</p>
  </footer>

  <audio id="correct-sound" src="./correct-choice.mp3"></audio>
  <audio id="incorrect-sound" src="./wrong-answer.wav"></audio>

  <script>
    let squareNum = 1, cubeNum = 1;
    let squareScore = 0, cubeScore = 0;
    let squareTotal = 0, cubeTotal = 0;
    let timer = 0, timerInterval;
    let maxNum = 50, minNum = 1;
    let mode = 'both';
    let isRandom = false;
	let squareRandomCount = 0;
	let cubeRandomCount = 0;
	let incorrectSquares = [];
	let incorrectCubes = [];




    const squareInput = document.getElementById("square-input");
    const cubeInput = document.getElementById("cube-input");
    const squareQuestion = document.getElementById("square-question");
    const cubeQuestion = document.getElementById("cube-question");
    const squareScoreDisplay = document.getElementById("square-score");
    const cubeScoreDisplay = document.getElementById("cube-score");
    const squareFeedback = document.getElementById("square-feedback");
    const cubeFeedback = document.getElementById("cube-feedback");
    const timerDisplay = document.getElementById("timer-display");
    const correctSound = document.getElementById("correct-sound");
    const incorrectSound = document.getElementById("incorrect-sound");
    const squareProgress = document.getElementById("square-progress");
    const cubeProgress = document.getElementById("cube-progress");
    const difficultySelect = document.getElementById("difficulty-select");
    const modeSelect = document.getElementById("mode-select");
    const scoreSummary = document.getElementById("score-summary");
    const squareSection = document.getElementById("square-section");
    const cubeSection = document.getElementById("cube-section");

    function getRandomNumber() {
      return Math.floor(Math.random() * 50) + 1;
    }

    function formatTime(t) {
      const min = Math.floor(t / 60).toString().padStart(2, '0');
      const sec = (t % 60).toString().padStart(2, '0');
      return `${min}:${sec}`;
    }

    function startTimer() {
      clearInterval(timerInterval);
      timer = 0;
      timerDisplay.textContent = `Time: 00:00`;
      timerInterval = setInterval(() => {
        timer++;
        timerDisplay.textContent = `Time: ${formatTime(timer)}`;
      }, 1000);
    }

    function showSummary() {
  clearInterval(timerInterval);
  scoreSummary.style.display = "block";

  const sqAcc = squareTotal ? Math.round((squareScore / squareTotal) * 100) : 0;
  const cuAcc = cubeTotal ? Math.round((cubeScore / cubeTotal) * 100) : 0;

  const sqMistakes = incorrectSquares.map(q =>
    `<li>${q.num}² = <strong>${q.expected}</strong> (You said: ${q.user})</li>`
  ).join('');

  const cuMistakes = incorrectCubes.map(q =>
    `<li>${q.num}³ = <strong>${q.expected}</strong> (You said: ${q.user})</li>`
  ).join('');

  scoreSummary.innerHTML = `
    <h2>🎉 Game Finished!</h2>
    <p><strong>Squares:</strong><br>✔ Correct: ${squareScore} ❌ Incorrect: ${squareTotal - squareScore}<br>Accuracy: ${sqAcc}%</p>
    ${sqMistakes ? `<details><summary>Incorrect Squares</summary><ul>${sqMistakes}</ul></details>` : ''}
    <p><strong>Cubes:</strong><br>✔ Correct: ${cubeScore} ❌ Incorrect: ${cubeTotal - cubeScore}<br>Accuracy: ${cuAcc}%</p>
    ${cuMistakes ? `<details><summary>Incorrect Cubes</summary><ul>${cuMistakes}</ul></details>` : ''}
    <p><strong>Total Time:</strong> ${formatTime(timer)}</p>
  `;
}


    function updateQuestion(isSquare) {
      const question = isSquare ? squareQuestion : cubeQuestion;
      const input = isSquare ? squareInput : cubeInput;
      const feedback = isSquare ? squareFeedback : cubeFeedback;
      const progress = isSquare ? squareProgress : cubeProgress;

      const num = isRandom ? getRandomNumber() : (isSquare ? squareNum : cubeNum);
      if (isSquare) squareNum = num; else cubeNum = num;

      if (!isRandom && num > maxNum) {
        progress.value = progress.max;
        question.textContent = `🎉 Finished all ${isSquare ? 'square' : 'cube'} questions!`;
        input.disabled = true;
        if ((mode === 'squares' && isSquare) || (mode === 'cubes' && !isSquare) || (squareNum > maxNum && cubeNum > maxNum)) {
          showSummary();
        }
        return;
      }

      question.textContent = `What is the ${isSquare ? 'square' : 'cube'} of ${num}?`;
      input.value = "";
      input.className = "";
      feedback.textContent = "";
      progress.max = maxNum - minNum + 1;
      if (isRandom) {
	  if (isSquare) {
       squareRandomCount++;
       progress.value = squareRandomCount;
	 } else {
       cubeRandomCount++;
       progress.value = cubeRandomCount;
	 }
	 } else {
	   progress.value = num - minNum;
	 }
      input.disabled = false;
      setTimeout(() => input.focus(), 100);
    }

    function handleAnswer(isSquare) {
      const input = isSquare ? squareInput : cubeInput;
      const num = isSquare ? squareNum : cubeNum;
      const expected = isSquare ? num * num : num * num * num;
      const feedback = isSquare ? squareFeedback : cubeFeedback;
      const scoreDisplay = isSquare ? squareScoreDisplay : cubeScoreDisplay;

      const val = parseInt(input.value);
      if (isNaN(val)) return;

      if (isSquare) squareTotal++; else cubeTotal++;

      if (val === expected) {
        input.className = "correct";
        if (isSquare) squareScore++; else cubeScore++;
        if (document.getElementById("sound-toggle").checked) correctSound.play();
      } else {
        input.className = "incorrect";
        feedback.textContent = `❌ Correct Answer: ${expected}`;
        if (document.getElementById("sound-toggle").checked) incorrectSound.play();
		if (isSquare) {
    incorrectSquares.push({ num, expected, user: val });
  } else {
    incorrectCubes.push({ num, expected, user: val });
  }
      }

      scoreDisplay.textContent = `Score: ${isSquare ? squareScore : cubeScore}`;
      input.disabled = true;

      setTimeout(() => {
        if (!isRandom) {
          if (isSquare) squareNum++; else cubeNum++;
        }
        updateQuestion(isSquare);
      }, 1000);
    }

    document.getElementById("start-button").addEventListener("click", () => {
      const level = difficultySelect.value;
      isRandom = level === "random";
	  
	  incorrectSquares = [];
	incorrectCubes = [];

      if (!isRandom) {
        maxNum = parseInt(level);
        minNum = maxNum - 9;
      } else {
        minNum = 1;
        maxNum = 50;
      }

      mode = modeSelect.value;
      squareSection.style.display = (mode === 'squares' || mode === 'both') ? 'block' : 'none';
      cubeSection.style.display = (mode === 'cubes' || mode === 'both') ? 'block' : 'none';

      squareNum = cubeNum = minNum;
      squareScore = cubeScore = 0;
      squareTotal = cubeTotal = 0;
      squareScoreDisplay.textContent = cubeScoreDisplay.textContent = "Score: 0";
      squareProgress.value = cubeProgress.value = 0;
	  squareRandomCount = 0;
	  cubeRandomCount = 0;
      scoreSummary.style.display = "none";
      startTimer();

      if (mode !== 'cubes') updateQuestion(true);
      if (mode !== 'squares') updateQuestion(false);
    });

    document.getElementById("stop-button").addEventListener("click", () => {
      clearInterval(timerInterval);
      squareQuestion.textContent = cubeQuestion.textContent = "Game stopped.";
      squareInput.disabled = cubeInput.disabled = true;
    });

    document.getElementById("theme-toggle").addEventListener("change", (e) => {
      document.body.classList.toggle("dark", e.target.checked);
    });

    squareInput.addEventListener("input", () => {
      const expected = squareNum * squareNum;
      if (parseInt(squareInput.value) === expected || squareInput.value.length >= expected.toString().length) {
        handleAnswer(true);
      }
    });

    cubeInput.addEventListener("input", () => {
      const expected = cubeNum * cubeNum * cubeNum;
      if (parseInt(cubeInput.value) === expected || cubeInput.value.length >= expected.toString().length) {
        handleAnswer(false);
      }
    });

    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    }
	
	document.addEventListener("keydown", (e) => {
  if (e.target.tagName === "INPUT") return; // Ignore if typing in input box

  switch (e.key.toLowerCase()) {
    case "s": // Start
      document.getElementById("start-button").click();
      break;
    case "a": // Stop
      document.getElementById("stop-button").click();
      break;
    case "d": // Dark mode toggle
      const darkToggle = document.getElementById("theme-toggle");
      darkToggle.checked = !darkToggle.checked;
      darkToggle.dispatchEvent(new Event("change"));
      break;
    case "f": // Fullscreen toggle
      document.getElementById("fullscreen-toggle").click();
      break;
    case "m": // Mute toggle
      const soundToggle = document.getElementById("sound-toggle");
      soundToggle.checked = !soundToggle.checked;
      break;
    case "l": // Focus difficulty dropdown
      document.getElementById("difficulty-select").focus();
      break;
    case "c": // Focus square/cube mode dropdown
      document.getElementById("mode-select").focus();
      break;
  }
});

  </script>
</body>
</html>
